---
title: "問題解説: 荒廃の国 第二のトラブル"
description: "問題解説: 荒廃の国 第二のトラブル"
tags: [ICTSC8,問題解説]
pubDate: 2017-10-04T14:49:41
slug: "2017/10/04/問題解説: 荒廃の国 第二のトラブル"
draft: false
renderer: "html"
sticky: false
---

<h2>問題文</h2>
<p>トラブルを解決したことで、宿の料金は無料になった。</p>
<p>エイト「お金も浮いたことだし、服を買いにいきたいの。近くに服屋さんはないかパソコンで調べるわ……ってめちゃくちゃ重たくて調べられない〜！」</p>
<p>エイト「たぶんトラフィック量が多いのね。服を買うために何とかできない？」</p>
<h2>トポロジー図</h2>
<p><img decoding="async" src="/images/wp/2017/10/BGP.jpg.webp" alt="" /></p>
<h2>トラブルの概要</h2>
<p>AS65100からAS65300宛の通信(大会中はICMP)がAS65200を経由して行われていたため、<br />
AS65200内のトラフィックが多くなっていた。</p>
<h2>採点基準</h2>
<p>BGPのピアを切断せずにAS65200内のトラフィックを削減すること。</p>
<h2>解法</h2>
<p><code>as-path access-list</code>を用いてAS65100への広告経路に対してフィルタリングをかける<br />
<code><br />
ip as-path access-list 1 permit ^$<br />
router bgp 65200<br />
neighbor 192.168.4.19 filter-list 1 out<br />
neighbor 192.168.4.3 filter-list 1 out<br />
exit<br />
</code></p>
<h2>講評</h2>
<p>6チームから回答があり、1チームが基準点、1チームが満点となりました。<br />
基準点に満たない解答にはBGPのピアを切断したり、AS番号を変更したりしてトラフィック量を減らす回答が見受けられました。<br />
しかし、BGPピアの切断やAS番号の変更は行ってよいものではないため、0点の解答と判断しました。<br />
BGPピアを切断しないこと、AS番号の変更をしてはいけないことを注意事項として問題に明記していればよかったと反省しています。</p>
<p>その中、 想定していた解答ではありませんでしたが<code>as-path prepend</code> を用いてトラフィックを削減した解答があり、BGPのピアを切断せずにトラフィックを削減していたことで満点としました。<br />
BGPはインターネットで欠かせない技術であるため、問題を通してBGPへの理解を深めていただければ幸いです。</p>
