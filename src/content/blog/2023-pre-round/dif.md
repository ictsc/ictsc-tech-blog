---
title: "ICTSC2023 予選 問題解説: DIF"
description: "ICTSC2023 本戦 問題解説: 経路がおかしい"
tags: [ICTSC2023,ネットワーク関連,問題解説]
pubDate: 2023-12-22T00:00:00
slug: "2023/12/22/ICTSC2023 予選 問題解説: 経路がおかしい"
draft: false
renderer: "md"
sticky: false
---

## 概要

あなたは、VyOS02の管理者です。  
VyOS01とVyOS03はBGPピアとして接続され、経路制御を行っています。
ある日、VyOS01のネットワーク(`172.16.1.1`)にtracerouteをしたところ、VyOS03を経由して到達していることが分かりました。  

そのため、VyOS01, VyOS03ともに迂回しない経路に変更してください。

## ネットワーク図

![](https://i.imgur.com/MvrSLOR.jpg)

## 前提条件

- `vyos01`, `vyos03`の設定は正しく行われている
- `vyos02`で適切な設定を行うことで本トラブルは解決する
- 問題回答者は`vyos02`のみ操作可能

## 制約

- 以下の情報は既存の設定に従う
  - BGPで広報する経路
  - BGPで受信する経路
- スタティックルートを新たに設定してはならない
- ネットワークを制御するプロトコルの一部または全ての機能を無効化してはいけない
- 再起動しても、終了状態が維持される

## 初期状態

- すべてのアドレスにpingによる通信が可能
- vyos02から`ping 172.16.1.1`を実行した場合、`vyos02 → vyos03 → vyos01`の経路が選択される

## 終了状態

- `172.16.1.0/24`のネクストホップが`10.10.1.1`であること
- `172.16.3.0/24`のネクストホップが`10.10.3.3`であること
- よって、vyos02から`ping 172.16.1.1`を実行した場合、`vyos02 → vyos01`の経路が選択されるようになる
