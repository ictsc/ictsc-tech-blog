---
title: "ICTSC2023 予選 問題解説: PLP"
description: "ICTSC2023 本戦 問題解説: ファイルが送れない"
tags: [ICTSC2023,サーバー関連,問題解説]
pubDate: 2023-12-22T00:00:00
slug: "2023/12/22/ICTSC2023 予選 問題解説: ファイルが送れない"
draft: false
renderer: "md"
sticky: false
---

## 問題名

ファイルが送れない

## 概要

友達からのファイル共有が面倒なので、そのまま自宅のサーバに送って貰うようにした。
ある日、いつも通り送って貰おうとしたらファイルが送れなくなっている。
どうしたらいいか分からないので直して欲しい。

## ネットワーク図

```
 +------------------+
 |  upload-site     |
 | 192.168.255.30   |
 +------------------+
```  

upload-site.serviceが動いている

## 前提条件

- uploaderを変更しないこと
- このuploaderは/home/user/storageに書き込む
- 解決後も既に/home/user/storageにあるファイルは/home/user/storageに存在させること
- vdaはシステムで使用するので一時的でもユーザのデータは載せないようにすること
- 再起動しても動くようにして欲しい

## 初期状態

1. サイトを開いてファイルを選択する
2. アップロードを押すと変な画面が表示され、ファイルはアップロードされていない

## 終了状態

- ファイルをアップロードするとアップロード成功！という画面が表示される
- /home/user/storageにファイルが追加出来ている

## 接続情報

| ホスト名 | IPアドレス | ユーザ | パスワード|
| --------- | ----------- | ------ | ------------------ |
| Webサーバ | 192.168.255.30 | user | rgv8qbaiTVgg |

- 以下を使用してポートフォワーディングをする
  - `ssh -L 8086:192.168.255.30:8086 user@${踏み台サーバのIP} -N`
    - 踏み台サーバーからでなく自分の環境で実行する
    - 既に8086を使用している場合8086以外を使うこと
  - `http://localhost:8086`
