---
title: "ICTSC2025 一次予選 問題解説: 問1 - 問6"
description: "ICTSC2025 一次予選 問題解説: 問1 - 問6"
tags: ["ICTSC2025", "問題解説"]
pubDate: 2025-09-14T06:44:10.219Z
slug: "2025/09/14/ictsc2025pr1/01-06"
draft: false
renderer: "md"
sticky: false
---

## 問1

ある社内ネットワークで、特定のアプリケーションがマルチキャストを使用して音声データを配信している。しかし、特定の PC-A だけマルチキャストストリームが受信できないという報告があった。

以下にネットワーク構成の情報と検証結果を挙げる。

- 同一 VLAN（例：VLAN 10）の L2 セグメント内の社内ネットワークを使用している
- 送信サーバは 宛先マルチキャストグループ `239.1.1.1` / UDP 5000 に音声データを送信している
- 受信クライアントのうち、PC-B など他の PC は問題なく音声を受信できている
- 問題の PC（以下 PC-A）は Ubuntu 24.04 LTS であり、ユニキャスト通信（例：社内サーバへの ping 応答、社内 Web への HTTP アクセス）は他の PC と同様に成功している
- PC-A のインタフェース状態（`ifconfig` または `ip addr` の結果）はリンク UP、アドレス設定も他の PC と同等で顕著なエラーはない

以下は PC-A で実行した `netstat -g` の抜粋である。

```
PC-A$ netstat -g
IPv6/IPv4 Multicast Group Memberships
Interface       RefCnt Group
--------------- ------ ---------------------
ens2            1      224.0.0.1
ens2            1      224.0.0.251
```

最も可能性の高い原因として適当なものを1つ選べ。

### 選択肢（択一選択）

1. PC-A のホストファイアウォールが UDP/5000 を遮断している
2. PC-A が必要なマルチキャストグループに参加していない
3. デフォルトゲートウェイの誤設定により L2 マルチキャストが届かない
4. DNS 逆引きの失敗によりマルチキャストが届かない

### 正解

<!-- 選択問題の場合、正解の選択肢を以下に列挙してください。自由記述問題の場合、模範解答と何を基準に採点するのかを書いてください。 -->

2

### 解説

正答

2\. PC-A が必要なマルチキャストグループに参加していない。
提示した netstat -g に配信先グループ 239.1.1.1 がない。これは PC-A が IGMP で当該グループに JOIN していないことを示す。

誤答

1\. UDP/5000 を FW が遮断していても JOIN 情報は表示されるため、netstat -g に 239.1.1.1 が載らない説明にならない。

3\. 同一 VLAN 内の L2 マルチキャストにデフォルトゲートウェイは無関係。

4\. DNS 逆引きは不要で、受信可否とは直接関係しない。

## 問2

下記のネットワークトポロジー図では、PC1（`192.168.10.0/24` セグメント）には DHCP サーバから正常に IP アドレスが割り当てられている。  一方、PC2（`192.168.20.0/24` セグメント）には DHCP サーバから IP アドレスが割り当てられていない。

このとき、PC2 に DHCP サーバから IP アドレスが割り当てられない原因として考えられるものを全て選べ。

![](/images/2025-pre-round-1st/02.png)

### 選択肢（複数選択）

1. L2SW2 の G0/1 インターフェースが shutdown 状態になっている
2. L2SW2 の G0/0 インターフェースに IP アドレスが設定されていない
3. R1 で DHCPリレー（BOOTP Relay Agent） が設定されていない
4. DHCP サーバに giaddr 宛の戻り経路（デフォルトゲートウェイ／静的・動的ルート）が存在しない
5. PC2 のイーサネットケーブルが抜けている
6. L2SW1 の G0/1 ポートで DHCP パケットのみフィルタリングされている

### 正解

<!-- 選択問題の場合、正解の選択肢を以下に列挙してください。自由記述問題の場合、模範解答と何を基準に採点するのかを書いてください。 -->

1, 3, 4, 5

### 解説

<!-- 問題の解説を以下に記述してください。予選問題については、解説をブログに掲載していないため、箇条書き等でも構いません（正解選択肢の裏取り確認やレビュー時に使用されると思います）
 -->

正答

1\. PC2 への物理リンクがダウンしているため、DHCPサーバーまでパケットが到達しない。

3\. PC2が 属するネットワークセグメントと DHCP サーバーが異なるサブネットにいるため、リレー設定が無いと DHCP discover がサーバーに届かない。

4\. DHCP サーバーから PC2 に対するリプライ（Offer や ACK）が返せなくなり、IP 割り当てが失敗する。

5\. 物理的に接続されていなければ、DHCP ディスカバー自体が送信できず IP 割当もできない。

誤答

2\. L2SW は IP アドレスを持つ必要がなく、スイッチングのみを行うため、IP アドレス未設定が DHCP の中継に影響しない。

6\. PC1 も同じ G0/1 ポートを使っているため、PC2 だけ割り当てができない理由とはならない。

## 問3

10G SFP+ モジュールには SR・LR・ER などの種類がある。シングルモードファイバ（SMF）で数 m 〜 数百 m 程度の短距離（総挿入損失はごく小さい）の通信で ER モジュールを使用すると、どのような問題が発生する可能性があるか。最も適当なものを1つ選べ。

### 選択肢（択一選択）

1. 通信距離が短すぎると信号が弱くなり、通信が安定しなくなる
2. 光信号が強すぎて CRC エラーの増加やリンクフラップが発生する
3. 通信速度が 10Gbps から 1Gbps に自動的に落ちてしまう
4. 短距離であるため SMF では通信できず、MMF を使用する必要がある

### 正解

2

### 解説

正答

2\. ER モジュールは最大 40km まで通信が可能であり、短距離での通信自体は可能である。ただし、対抗モジュールにおける光レベルが高くなり、モジュールの故障やエラーの発生等に繋がる恐れがある。

誤答

1\. 短距離では損失が小さく、信号は「弱くなる」どころか強く届くため、問題はむしろ受光過大である。

3\. 10G 光モジュールが自動で 1 Gbps に降速することはない（PHY/モジュール仕様が別物）。1G/10G デュアルレートは対応モジュールや設定が必要。

4\. ER/LR は SMF 用であり、短距離でも SMF で通信できる。短距離だから MMF 必須ということはない（MMF は SR の領域）。

## 問4

以下のネットワークシナリオにおいて、問題1・問題2が発生している。 発生している2つの問題を解決するために、適当かつ効率的なプロトコルを語群から選び、下記の文章のX／Y／Z に当てはめよ（同一番号の重複使用は不可）。

> 問題1 には [X] を導入する。
問題2 には経路迂回のために [Y] を導入し、恒久的な対策として [Z] を導入する。

なお、本問でいう「効率的」とは、1. 一方向障害時のブラックホール時間を最小化し、2. プロトコル横断で一貫した故障検知を実現し、3. 不要な機能追加を避け最小構成で要件を満たすこと、を指す

ネットワーク構成は以下のようになっている。

- R1 と R2 は L2 スイッチ非介在の光ファイバ直結である
- ルーティングは OSPF（ネットワークタイプ point-to-point、Hello=10 秒／Dead=40 秒）である
- バックアップとして R1–R3–R2 の経路が存在し、OSPF コストは R1–R2 より高いが到達可能である。
- 機器は BFD および L2 一方向リンク検出/OAM（例：UDLD／Ethernet OAM CFM 等）をサポートしている

以下のような問題が発生している。

- 問題1（片方向リンク障害）：光ファイバの一方のペア断により R1→R2 の送信不能となった。R1 側インタフェースは up のままで、R1 は R2 からの OSPF Hello を受信できている。一方 R2 は R1 からの Hello を受信できず、Dead タイマー満了までは R1 の近傍エントリを保持する場合がある。このため R1 から OSPF の隣接状態は “FULL” のままで、R1→R2 のトラフィックがブラックホール化している
- 問題2（短時間パケットロス）: 物理リンクは健全だが、特定時間帯に 50〜200 ms 程度のマイクロバーストが頻発し、断続的なロスが発生する。OSPF の Dead タイマーが切れるほど長くはないため隣接は “FULL” を維持するが、アプリケーション性能に影響が出ている

### 語群

1. BFD（OSPF と連携）
2. UDLD（または同等の L2 片方向リンク検出/OAM）
3. OSPF Fast Hello
4. QoS（優先制御・WRED・シェーピングなど）
5. OSPF Hello／Dead タイマーの大幅短縮

### 正解

X: 2, Y: 1, Z: 4

### 解説

正答

問題1（片方向リンク障害）→ X = 2：UDLD  
事象は L2 における一方向断である。UDLD は一方向性を即時に検出し、ポート遮断でブラックホール時間を最小化できる。 L2 の問題は L2 で止めるのが最短経路である。効率性（ブラックホール最小化・最小構成）の要件に最適である。

問題2（短時間ロス／瞬断）→ Y = 1：BFD  
50〜200ms 程度の瞬断は OSPF Dead=40 秒では検出できない。BFD はサブ秒で故障検知ができ、OSPF と連携して速やかにバックアップ経路へ切り替えられる。 BFD は将来の BGP 等にも流用可能であり、プロトコル横断性の要件にも合致する。

恒久対策（原因緩和）→ Z = 4：QoS  
マイクロバーストは輻輳現象である。QoS（優先制御・キュー設計・整形・WRED など）により遅延やドロップの発生自体を抑制できる。 回避は BFD、緩和は QoS という役割分担が適切である。

誤答  
1\. BFDを X に当てるのは不適である。BFD は検知はできるが、L2 一方向断を即時遮断できず、ブラックホール最小化の観点で UDLD に劣る。

2\. UDLDを Z に当てるのは不適である。UDLD は障害検知であり、輻輳の恒久対策にはならない。

3\. OSPF Fast Hello は OSPF 専用である。プロトコル横断性がない。フラップ誘発の懸念がある。

5\. OSPF Hello／Dead 大幅短縮 も OSPF 専用である。制御プレーン負荷増大と不安定化のリスクがある。

## 問5

2台のルータ (R1 - R2) 間で OSPF neighbor が確立している。本リンクは OSPF のネットワークタイプが point-to-point（DR/BDR は使用しない）で動作している。また、router-id は自身のルータの Loopback 0 の IP アドレスを用いている。構成図は以下のとおりである。

![](/images/2025-pre-round-1st/05-1.png)

R1 - R2 間のリンクにて OSPF hello packet をキャプチャした。添付のパケットキャプチャは一部編集されたものである。編集された項目として最も適当なものを1つ選べ。

![](/images/2025-pre-round-1st/05-2.png)

### 選択肢（択一選択）

1. Ethernet II: Destination MAC address
2. IPv4: Destination IP address
3. IPv4: Time To Live (TTL)
4. OSPF Hello Packet: Active Neighbor
5. OSPF Header: Area ID
6. OSPF Hello Packet: Options field

### 正解

1

### 解説

OSPF Hello パケットは IP のマルチキャストアドレス 224.0.0.5 宛に送信される。  
この IP アドレスに対応する MAC アドレスは本来 01:00:5e:00:00:05 である必要がある。  
しかし、パケットキャプチャ内では、Destination MAC address が 01:00:5e:00:00:04 となっており、これは 224.0.0.4 に対応するアドレスである。  
このような不一致は、通常の OSPF Hello パケットの動作では発生しない

他の選択肢については設定内容や構成と整合性は取れているため、不自然な点は見られない。  
したがって、編集された項目として最も適切なのは "Ethernet II: Destination MAC address" である。

## 問6

あるネットワーク機器において、LACP（Link Aggregation Control Protocol）を使用したリンクアグリゲーションが正常に動作していない。 アグリゲーションのメンバーインターフェースの一部が "サスペンド（suspended）" やそれに類する非アクティブ状態となっている。

この状態を直接引き起こし得る原因を、次の選択肢から2つ選べ。

### 選択肢（2つ選択）

1. 対向機器から LACP PDU を受信できていない
2. VLAN のデータプレーン設定が正しくない（例：許可 VLAN の漏れ、ネイティブ VLAN の想定違い）
3. IP アドレスが設定されていない
4. ネットワーク内でループが発生している
5. LACP の実装バージョンが異なっている
6. ポート設定に不整合がある（例：ポートの動作モード、速度、デュプレックス設定の不一致）

### 正解

1, 6

### 解説

正答

1\. 対向から LACP PDU が来ない 片側の LACP タイマーが Expired/Defaulted になると、そのメンバーを選別から外し、実装により suspended/individual などの非アクティブ状態に落ちる。

6\. ポート／チャネル設定の不整合：LAG のメンバーは物理・論理条件を一致させる必要がある。トランク/アクセス、ネイティブ/許可 VLAN、速度・デュプレックス、ポートチャネルの設定不一致は、選別失敗の直接原因となり得て suspended を招く。

誤答

2\. VLAN のデータプレーン設定：VLAN の誤りはフレーム転送へは影響するが、LACP は L2 の Slow Protocol でありネゴシエーション自体の成立条件ではない。

3\. IP アドレス未設定：LACP は L2 制御で IP 非依存。

4\. ループ発生：STP 等のブロックはあり得るが、LACP の成立を直接止める要因ではない。

5\. “実装バージョン”差：LACP は標準規格で、通常これを理由に不成立にはならない。
